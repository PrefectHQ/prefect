---
title: foreman
sidebarTitle: foreman
---

# `prefect.server.services.foreman`



Foreman is a loop service designed to monitor workers.


## Classes

### `Foreman` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/foreman.py#L34" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


Monitors the status of workers and their associated work pools


**Methods:**

#### `service_settings` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/foreman.py#L40" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
service_settings(cls) -> ServicesBaseSetting
```

#### `run_once` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/foreman.py#L79" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
run_once(self, db: PrefectDBInterface) -> None
```

Iterate over workers current marked as online. Mark workers as offline
if they have an old last_heartbeat_time. Marks work pools as not ready
if they do not have any online workers and are currently marked as ready.
Mark deployments as not ready if they have a last_polled time that is
older than the configured deployment last polled timeout.

