---
title: task_queue
sidebarTitle: task_queue
---

# `prefect.server.task_queue`



Implements an in-memory task queue for delivering background task runs to TaskWorkers.


## Classes

### `TaskQueue` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/task_queue.py#L17" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

**Methods:**

#### `enqueue` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/task_queue.py#L32" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
enqueue(cls, task_run: schemas.core.TaskRun) -> None
```

#### `configure_task_key` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/task_queue.py#L36" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
configure_task_key(cls, task_key: str, scheduled_size: Optional[int] = None, retry_size: Optional[int] = None) -> None
```

#### `for_key` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/task_queue.py#L47" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
for_key(cls, task_key: str) -> Self
```

#### `reset` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/task_queue.py#L56" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
reset(cls) -> None
```

A unit testing utility to reset the state of the task queues subsystem


#### `get` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/task_queue.py#L66" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
get(self) -> schemas.core.TaskRun
```

#### `get_nowait` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/task_queue.py#L73" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
get_nowait(self) -> schemas.core.TaskRun
```

#### `put` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/task_queue.py#L80" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
put(self, task_run: schemas.core.TaskRun) -> None
```

#### `retry` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/task_queue.py#L83" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
retry(self, task_run: schemas.core.TaskRun) -> None
```

### `MultiQueue` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/task_queue.py#L87" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


A queue that can pull tasks from from any of a number of task queues


**Methods:**

#### `get` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/task_queue.py#L95" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
get(self) -> schemas.core.TaskRun
```

Gets the next task_run from any of the given queues

