---
title: counting
sidebarTitle: counting
---

# `prefect.server.events.counting`

## Classes

### `InvalidEventCountParameters`


Raised when the given parameters are invalid for counting events.


### `TimeUnit`

**Methods:**

#### `as_timedelta`

```python
as_timedelta(self, interval: float) -> Duration
```

#### `validate_buckets`

```python
validate_buckets(self, start_datetime: datetime.datetime, end_datetime: datetime.datetime, interval: float) -> None
```

#### `get_interval_spans`

```python
get_interval_spans(self, start_datetime: datetime.datetime, end_datetime: datetime.datetime, interval: float) -> Generator[int | tuple[datetime.datetime, datetime.datetime], None, None]
```

Divide the given range of dates into evenly-sized spans of interval units


#### `database_value_expression`

```python
database_value_expression(self, time_interval: float) -> sa.Cast[str]
```

Returns the SQL expression to place an event in a time bucket


#### `database_label_expression`

```python
database_label_expression(self, db: PrefectDBInterface, time_interval: float) -> sa.Function[str]
```

Returns the SQL expression to label a time bucket


### `Countable`

**Methods:**

#### `get_database_query`

```python
get_database_query(self, filter: 'EventFilter', time_unit: TimeUnit, time_interval: float) -> Select[tuple[str, str, DateTime, DateTime, int]]
```
