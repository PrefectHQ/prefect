---
title: task_run_recorder
sidebarTitle: task_run_recorder
---

# `prefect.server.services.task_run_recorder`

## Functions

### `causal_ordering` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/task_run_recorder.py#L41" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
causal_ordering() -> CausalOrdering
```

### `task_run_from_event` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/task_run_recorder.py#L68" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
task_run_from_event(event: ReceivedEvent) -> TaskRun
```

### `record_task_run_event` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/task_run_recorder.py#L96" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
record_task_run_event(event: ReceivedEvent) -> None
```

### `consumer` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/task_run_recorder.py#L164" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
consumer() -> AsyncGenerator[MessageHandler, None]
```

## Classes

### `TaskRunRecorder` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/task_run_recorder.py#L192" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>


Constructs task runs and states from client-emitted events


**Methods:**

#### `service_settings` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/task_run_recorder.py#L199" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
service_settings(cls) -> ServicesBaseSetting
```

#### `started_event` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/task_run_recorder.py#L207" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
started_event(self) -> asyncio.Event
```

#### `started_event` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/task_run_recorder.py#L213" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
started_event(self, value: asyncio.Event) -> None
```

#### `start` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/task_run_recorder.py#L216" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
start(self) -> NoReturn
```

#### `stop` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/services/task_run_recorder.py#L236" target="_blank"><Icon icon="github" style="width: 14px; height: 14px;" /></a></sup>

```python
stop(self) -> None
```
