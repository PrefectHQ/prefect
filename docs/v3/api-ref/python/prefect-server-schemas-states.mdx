---
title: states
sidebarTitle: states
---

# `prefect.server.schemas.states`



State schemas.


## Functions

### `Scheduled` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L312" target="_blank">↗</a></sup>

```python
Scheduled(scheduled_time: Optional[DateTime] = None, cls: type[_State] = State, **kwargs: Any) -> _State
```


Convenience function for creating `Scheduled` states.

**Returns:**
- a Scheduled state


### `Completed` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L334" target="_blank">↗</a></sup>

```python
Completed(cls: type[_State] = State, **kwargs: Any) -> _State
```


Convenience function for creating `Completed` states.

**Returns:**
- a Completed state


### `Running` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L343" target="_blank">↗</a></sup>

```python
Running(cls: type[_State] = State, **kwargs: Any) -> _State
```


Convenience function for creating `Running` states.

**Returns:**
- a Running state


### `Failed` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L352" target="_blank">↗</a></sup>

```python
Failed(cls: type[_State] = State, **kwargs: Any) -> _State
```


Convenience function for creating `Failed` states.

**Returns:**
- a Failed state


### `Crashed` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L361" target="_blank">↗</a></sup>

```python
Crashed(cls: type[_State] = State, **kwargs: Any) -> _State
```


Convenience function for creating `Crashed` states.

**Returns:**
- a Crashed state


### `Cancelling` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L370" target="_blank">↗</a></sup>

```python
Cancelling(cls: type[_State] = State, **kwargs: Any) -> _State
```


Convenience function for creating `Cancelling` states.

**Returns:**
- a Cancelling state


### `Cancelled` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L379" target="_blank">↗</a></sup>

```python
Cancelled(cls: type[_State] = State, **kwargs: Any) -> _State
```


Convenience function for creating `Cancelled` states.

**Returns:**
- a Cancelled state


### `Pending` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L388" target="_blank">↗</a></sup>

```python
Pending(cls: type[_State] = State, **kwargs: Any) -> _State
```


Convenience function for creating `Pending` states.

**Returns:**
- a Pending state


### `Paused` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L397" target="_blank">↗</a></sup>

```python
Paused(cls: type[_State] = State, timeout_seconds: Optional[int] = None, pause_expiration_time: Optional[DateTime] = None, reschedule: bool = False, pause_key: Optional[str] = None, **kwargs: Any) -> _State
```


Convenience function for creating `Paused` states.

**Returns:**
- a Paused state


### `Suspended` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L431" target="_blank">↗</a></sup>

```python
Suspended(cls: type[_State] = State, timeout_seconds: Optional[int] = None, pause_expiration_time: Optional[DateTime] = None, pause_key: Optional[str] = None, **kwargs: Any) -> _State
```


Convenience function for creating `Suspended` states.

**Returns:**
- a Suspended state


### `AwaitingRetry` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L454" target="_blank">↗</a></sup>

```python
AwaitingRetry(cls: type[_State] = State, scheduled_time: Optional[DateTime] = None, **kwargs: Any) -> _State
```


Convenience function for creating `AwaitingRetry` states.

**Returns:**
- an AwaitingRetry state


### `AwaitingConcurrencySlot` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L469" target="_blank">↗</a></sup>

```python
AwaitingConcurrencySlot(cls: type[_State] = State, scheduled_time: Optional[DateTime] = None, **kwargs: Any) -> _State
```


Convenience function for creating `AwaitingConcurrencySlot` states.

**Returns:**
- an AwaitingConcurrencySlot state


### `Retrying` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L487" target="_blank">↗</a></sup>

```python
Retrying(cls: type[_State] = State, **kwargs: Any) -> _State
```


Convenience function for creating `Retrying` states.

**Returns:**
- a Retrying state


### `Late` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L496" target="_blank">↗</a></sup>

```python
Late(cls: type[_State] = State, scheduled_time: Optional[DateTime] = None, **kwargs: Any) -> _State
```


Convenience function for creating `Late` states.

**Returns:**
- a Late state


## Classes

### `StateType` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L40" target="_blank">↗</a></sup>


Enumeration of state types.


### `CountByState` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L54" target="_blank">↗</a></sup>

**Methods:**

#### `check_key` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L67" target="_blank">↗</a></sup>

```python
check_key(cls, value: Optional[Any], info: ValidationInfo) -> Optional[Any]
```

### `StateDetails` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L81" target="_blank">↗</a></sup>

### `StateBaseModel` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L103" target="_blank">↗</a></sup>

**Methods:**

#### `orm_dict` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L104" target="_blank">↗</a></sup>

```python
orm_dict(self, *args: Any, **kwargs: Any) -> dict[str, Any]
```

This method is used as a convenience method for constructing fixtues by first
building a `State` schema object and converting it into an ORM-compatible
format. Because the `data` field is not writable on ORM states, this method
omits the `data` field entirely for the purposes of constructing an ORM model.
If state data is required, an artifact must be created separately.


### `State` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L119" target="_blank">↗</a></sup>


Represents the state of a run.


**Methods:**

#### `from_orm_without_result` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L138" target="_blank">↗</a></sup>

```python
from_orm_without_result(cls, orm_state: Union['ORMFlowRunState', 'ORMTaskRunState'], with_data: Optional[Any] = None) -> Self
```

During orchestration, ORM states can be instantiated prior to inserting results
into the artifact table and the `data` field will not be eagerly loaded. In
these cases, sqlalchemy will attempt to lazily load the the relationship, which
will fail when called within a synchronous pydantic method.

This method will construct a `State` object from an ORM model without a loaded
artifact and attach data passed using the `with_data` argument to the `data`
field.


#### `default_name_from_type` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L164" target="_blank">↗</a></sup>

```python
default_name_from_type(self) -> Self
```

If a name is not provided, use the type


#### `default_scheduled_start_time` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L174" target="_blank">↗</a></sup>

```python
default_scheduled_start_time(self) -> Self
```

#### `is_scheduled` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L183" target="_blank">↗</a></sup>

```python
is_scheduled(self) -> bool
```

#### `is_pending` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L186" target="_blank">↗</a></sup>

```python
is_pending(self) -> bool
```

#### `is_running` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L189" target="_blank">↗</a></sup>

```python
is_running(self) -> bool
```

#### `is_completed` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L192" target="_blank">↗</a></sup>

```python
is_completed(self) -> bool
```

#### `is_failed` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L195" target="_blank">↗</a></sup>

```python
is_failed(self) -> bool
```

#### `is_crashed` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L198" target="_blank">↗</a></sup>

```python
is_crashed(self) -> bool
```

#### `is_cancelled` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L201" target="_blank">↗</a></sup>

```python
is_cancelled(self) -> bool
```

#### `is_cancelling` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L204" target="_blank">↗</a></sup>

```python
is_cancelling(self) -> bool
```

#### `is_final` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L207" target="_blank">↗</a></sup>

```python
is_final(self) -> bool
```

#### `is_paused` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L210" target="_blank">↗</a></sup>

```python
is_paused(self) -> bool
```

#### `fresh_copy` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L213" target="_blank">↗</a></sup>

```python
fresh_copy(self, **kwargs: Any) -> Self
```

Return a fresh copy of the state with a new ID.


#### `result` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L229" target="_blank">↗</a></sup>

```python
result(self, raise_on_failure: Literal[True] = ...) -> Any
```

#### `result` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L232" target="_blank">↗</a></sup>

```python
result(self, raise_on_failure: Literal[False] = False) -> Union[Any, Exception]
```

#### `result` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L237" target="_blank">↗</a></sup>

```python
result(self, raise_on_failure: bool = ...) -> Union[Any, Exception]
```

#### `result` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L239" target="_blank">↗</a></sup>

```python
result(self, raise_on_failure: bool = True) -> Union[Any, Exception]
```

#### `to_state_create` <sup><a href="https://github.com/prefecthq/prefect/blob/main/src/prefect/server/schemas/states.py#L256" target="_blank">↗</a></sup>

```python
to_state_create(self) -> 'StateCreate'
```
