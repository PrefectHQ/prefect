---
title: Manage states
description: Prefect states contain information about the status of a flow or task run.
---

States are rich objects that contain information about the status of a particular [task](/3.0rc/develop/write-tasks) 
run or [flow](/3.0rc/develop/write-flows/) run.

You can learn anything about a task or flow by examining its current state or the 
history of its states. For example, a state could tell you that a task:

- is scheduled to make a third run attempt in an hour
- succeeded and what data it produced
- was scheduled to run, but later cancelled
- used the cached result of a previous run instead of re-running
- failed because it timed out

By manipulating a relatively small number of task states, Prefect flows can harness the complexity 
that emerges in workflows.

<Note>
**Only runs have states**
Flows and tasks are templates that describe what a system does; 
only when we **run** the system does it also take on a state.
</Note>

## State types

States have names and types. State types are canonical, with specific orchestration rules that apply to transitions into 
and out of each state type. A state's name is often, but not always, synonymous with its type. For example, a task run 
that is running for the first time has a state with the name Running and the type `RUNNING`. However, if the task retries, 
that same task run will have the name Retrying and the type `RUNNING`. Each time the task run transitions into the `RUNNING` 
state, the same orchestration rules are applied.

These are the terminal state types with no transitions to any other state type:

- `COMPLETED`
- `CANCELLED`
- `FAILED`
- `CRASHED`

The full list of states and state types includes:
  
| Name | Type | Terminal? | Description
| --- | --- | --- | --- |
| Scheduled | SCHEDULED | No | The run will begin at a particular time in the future. |
| Late | SCHEDULED | No | The run's scheduled start time has passed, but it has not transitioned to PENDING (15 seconds by default). |
| <span class="no-wrap">AwaitingRetry</span> | SCHEDULED | No | The run did not complete successfully because of a code issue and had remaining retry attempts. |
| Pending | PENDING | No | The run has been submitted to run, but is waiting on necessary preconditions to be satisfied. |
| Running | RUNNING | No | The run code is currently executing. |
| Retrying | RUNNING | No | The run code is currently executing after previously not completing successfully. |
| Paused | PAUSED | No | The run code has stopped executing until it receives manual approval to proceed. |
| Cancelling | CANCELLING | No | The infrastructure on which the code was running is being cleaned up. |
| Cancelled | CANCELLED | Yes | The run did not complete because a user determined that it should not. |
| Completed | COMPLETED | Yes | The run completed successfully. |
| Failed | FAILED | Yes | The run did not complete because of a code issue and had no remaining retry attempts. |
| Crashed | CRASHED | Yes | The run did not complete because of an infrastructure issue. |

## Flow and task return values

When calling a task or a flow, there are three types of returned values:

- Data: A Python object (such as `int`, `str`, `dict`, `list`, `SomePydanticModel`, and so on).
- `State`: A Prefect object indicating the state of a flow or task run.

### Returning normal python objects

By default, tasks `return` objects just like normal python functions:

```python
from prefect import flow, task 


@task 
def add_one(x):
    return x + 1


@flow 
def my_flow():
    result = add_one(1)
    assert isinstance(result, int) and result == 2
```


### Return a Prefect `State`

To return a `State` instead, add `return_state=True` as a parameter of your task call:

```python
@flow 
def my_flow():
    state = add_one(1, return_state=True)
    assert state.is_completed() is True
    assert state.result() == 2
```

<Tip>
Returning a `State` via `return_state=True` is useful when you want to conditionally respond to the terminal states of a task or flow. For example, `if state.is_failed(): ...`.
</Tip>


## Final state determination

The final state of a flow is determined by its return value. The following rules apply:

- If an exception is raised directly in the flow function, the flow run is marked as `FAILED`.
- If the flow does not return a value (or returns `None`), its state is determined by the states of all of the tasks and nested flows within it.
  - If _any_ task run or nested flow run failed and none were cancelled, then the final flow run state is marked as `FAILED`.
  - If _any_ task run or nested flow run was cancelled, then the final flow run state is marked as `CANCELLED`.
- If a flow returns a manually created state, it is used as the state of the final flow run. This allows for manual determination of final state.
- If the flow run returns _any other object_, then it is marked as successfully completed.

See the [Final state determination](/3.0rc/develop/write-flows/#final-state-determination) section of the [Flows](/3.0rc/develop/write-flows/) 
documentation for further details and examples.
