# Licensed under LICENSE.md; also available at https://www.prefect.io/licenses/alpha-eula

[tool:pytest]
norecursedirs = *.egg-info .git .mypy_cache node_modules .pytest_cache .vscode
env =
    SKIP_DOCKER_ENVIRONMENT_TESTS = True
usedevelop = True

[isort]
skip = __init__.py
multi_line_output = 3

[mypy]
ignore_missing_imports = True
disallow_any_explicit = False
disallow_untyped_defs = True
disallow_untyped_calls = True
check_untyped_defs = True

[mypy-prefect._version]
ignore_errors = True

[mypy-prefect.cli.*]
ignore_errors = True

[mypy-prefect.configuration]
ignore_errors = True

[mypy-prefect.engine.cloud_handler] # going away soon anyway
ignore_errors = True

[mypy-prefect.environments]
ignore_errors = True

[mypy-prefect.serialization.*]
ignore_errors = True

[mypy-prefect.tasks.*]
ignore_errors = True

[mypy-prefect.utilities.*]
ignore_errors = True

[mypy-tests.*]
# don't check pytest function signatures but check interior
disallow_untyped_defs = False
check_untyped_defs = True

[coverage:run]
omit=
    tests/*
    **__init__.py
    *_version.py
    *airflow_utils.py # needs airflow installed
    *bokeh_app.py
    # the following are not currently tested / exposed
    *email_task.py
    */tasks/serialize.py
    *strings.py
source = src/prefect
parallel = False

[versioneer]
VCS = git
style = pep440
versionfile_source = src/prefect/_version.py
versionfile_build = prefect/_version.py
tag_prefix =
parentdir_prefix =
